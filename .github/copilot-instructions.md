# Copilot Instructions

Этот проект давно написано и у него легаси код, плохая архитектура. Сейчас мы постепенно его рефакторим.
Сейчас наша задача привести проект к более менее нормальной архитектуре не сломая ничего.

Страницы должны назваться через page. Только у страницы должно быть рутинг через auto_route.
Screen - это виджет, который по большей части показывается внутри страницах.
В иделае фичи должна содержать в себе папка:
- data (репозитории, дата-сорсы)
- model (freezed модели: dto, response, payload)
- bloc (внутри может быть cubit или bloc)
- presentation (pages, screens, widgets)

Один из важных задача сейчас это избавиться от package:get в UI-слое.
Для этого нужно убрать все импорты package:get и заменить весь функционал, связанный с Get, навигацией через Get.to. По началу через навигатор, позже полностью перейдем на auto_route.

Общение из presetation слоя с bloc слоем должно быть только через flutter_bloc package. Дальше блок обращается только к репозиториям, репозитории общаются только с дата-сорсами через дтошки.

Репозитории и дата-сорсы должны использовать RestClient который был написан и настроен на dio. Отдельно http пакет тоже будем постепенно убирать.

Все данные которые нужно сохранить локально должны сохраняться через shared_preferences (DAO). GetStorage пока параллельно будем держать, потом в конце уберем полностью.

Нужно стараться не ломать текущий функционал, разделять на виджеты и их переиспользовать, чтобы избежать дублирование кода.